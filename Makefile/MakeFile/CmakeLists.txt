# 指定 CMake 最低版本要求
cmake_minimum_required(VERSION 3.10)

# 设置项目名称和编译语言
project(hello C)

# 设置 C 编译器标志（与 Makefile 中的 CFLAGS 对应）
set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -g -O2 -Wall -Wextra -Werror")

# 添加头文件搜索路径（相当于 -I./include）
include_directories(./include)

# 查找源文件（相当于 SRCS 变量）
file(GLOB_RECURSE SRCS 
    "hello.c" 
    "lib/*.c"
)

# 创建可执行文件（相当于 $(TARGET): $(OBJS)）
add_executable(hello.out ${SRCS})

# 安装目标（可选）
install(TARGETS hello.out DESTINATION bin)